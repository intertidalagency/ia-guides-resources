<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Intertidal Agency">

<title>Data Management &amp; Sharing Plans: what and why</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./minimum_metadata.html" rel="prev">
<link href=".//img/Intertidal-ProfilePic-Aqua-Bold.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="https://intertidal.agency/" class="navbar-brand navbar-brand-logo">
    <img src="./img/Intertidal_PrimaryLogo_Bold_White.png" alt="" class="navbar-logo">
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./repository_criteria.html">Resources</a></li><li class="breadcrumb-item"><a href="./data_mgmt_sharing_plans.html"><span class="chapter-title">Data Management &amp; Sharing Plans: what and why</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Guides &amp; Resources for Ocean Data Stewardship</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Resources</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./repository_criteria.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Criteria for evaluating or creating data repositories</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./minimum_metadata.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Minimum metadata recommendations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_mgmt_sharing_plans.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">Data Management &amp; Sharing Plans: what and why</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#what-is-a-data-management-and-sharing-plan-dmsp" id="toc-what-is-a-data-management-and-sharing-plan-dmsp" class="nav-link active" data-scroll-target="#what-is-a-data-management-and-sharing-plan-dmsp">What is a Data Management and Sharing Plan (DMSP)</a></li>
  <li><a href="#example-plans-and-resources" id="toc-example-plans-and-resources" class="nav-link" data-scroll-target="#example-plans-and-resources">Example plans and resources</a></li>
  <li><a href="#how-to-use-this-information" id="toc-how-to-use-this-information" class="nav-link" data-scroll-target="#how-to-use-this-information">How to use this information</a></li>
  <li><a href="#dmsp-content-menu" id="toc-dmsp-content-menu" class="nav-link" data-scroll-target="#dmsp-content-menu">DMSP Content Menu</a>
  <ul>
  <li><a href="#project-information" id="toc-project-information" class="nav-link" data-scroll-target="#project-information">Project Information</a></li>
  <li><a href="#roles-responsibilities" id="toc-roles-responsibilities" class="nav-link" data-scroll-target="#roles-responsibilities">Roles &amp; Responsibilities</a></li>
  <li><a href="#data-stewardship-sharing-preservation" id="toc-data-stewardship-sharing-preservation" class="nav-link" data-scroll-target="#data-stewardship-sharing-preservation">Data Stewardship, Sharing, &amp; Preservation</a></li>
  <li><a href="#research-outputs" id="toc-research-outputs" class="nav-link" data-scroll-target="#research-outputs">Research Outputs</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./repository_criteria.html">Resources</a></li><li class="breadcrumb-item"><a href="./data_mgmt_sharing_plans.html"><span class="chapter-title">Data Management &amp; Sharing Plans: what and why</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-title">Data Management &amp; Sharing Plans: what and why</span></h1>
</div>



<div class="quarto-title-meta column-page-right">

    
  
    
  </div>
  


</header>


<section id="what-is-a-data-management-and-sharing-plan-dmsp" class="level2">
<h2 class="anchored" data-anchor-id="what-is-a-data-management-and-sharing-plan-dmsp">What is a Data Management and Sharing Plan (DMSP)</h2>
<p>It is a document that describes how and when data and other research outputs will be managed and shared. These plans usually begin by identifying key personnel involved in the project and the number and types of data and other research outputs, then they how these data and outputs will be formatted and documented with metadata, and finally where the data and outputs will be published with any access or preservation restrictions or provisions.</p>
</section>
<section id="example-plans-and-resources" class="level2">
<h2 class="anchored" data-anchor-id="example-plans-and-resources">Example plans and resources</h2>
<p>NOAA Omics Data Management Guide - <a href="https://noaa-omics-dmg.readthedocs.io/en/latest/dmp-template.html">Data Management Plans</a><br>
<a href="https://www.bco-dmo.org/">BCO-DMO Repository</a> - <a href="https://guide.bco-dmo.org/prepare/data_management_plan">Data Management Plan</a><br>
<a href="https://dmptool.org">DMPTool</a><br>
National Science Foundation - <a href="https://www.nsf.gov/bfa/dias/policy/dmpdocs/dmr_template.pdf">Data Management Plan template</a></p>
</section>
<section id="how-to-use-this-information" class="level2">
<h2 class="anchored" data-anchor-id="how-to-use-this-information">How to use this information</h2>
<p>Below is content that could be used in creating a DMSP. These are questions that Intertidal thinks are important to think about, discuss among your team, and plan for when practicing good data stewardship. However, DMSPs are created by different organizations and people for different audiences and to serve different purposes. Therefore, the content listed below can be thought of as a menu from which you might choose to assemble a DMSP that suits your needs.</p>
<p>It is also important to consider how explicit or prescriptive you want or need to be. DMSPs are useful tools in the stewardship of data, yet they have usually been viewed as an annoying box-checking task without much further use. However, DMSPs can be very customized, and used to educate and guide users to implement robust data stewardship practices. In addition, the implementation of machine-actionable DMSPs promises greater utility in the future for tracking provenance and relationships between data and other research outputs, and in crediting the many people who steward the data throughout its lifecycle.</p>
</section>
<section id="dmsp-content-menu" class="level2">
<h2 class="anchored" data-anchor-id="dmsp-content-menu">DMSP Content Menu</h2>
<section id="project-information" class="level4">
<h4 class="anchored" data-anchor-id="project-information">Project Information</h4>
<ul>
<li>Project Title</li>
<li>Provide an abstract or short summary for this project.
<ul>
<li>Please provide an abstract or short summary of this project, not to exceed 250 words.</li>
</ul></li>
<li>List the funder(s) of this project
<ul>
<li>Please list the funder(s) for this project. Please give the name of the funder and the funder persistent identifier (e.g.&nbsp;ROR) to disambiguate funder names.</li>
</ul></li>
</ul>
</section>
<section id="roles-responsibilities" class="level4">
<h4 class="anchored" data-anchor-id="roles-responsibilities">Roles &amp; Responsibilities</h4>
<p>This section covers the activities that are important for successful sharing of data. Thoughtfully deciding who will fill these roles and have these responsibilities for data sharing and stewardship is critical. While all persons working on this project are expected to practice good data stewardship, we are asking for the contact info for the key project personnel in the section below.</p>
<p>The following roles must be included below: Principal Investigator, Data Manager, Point of Contact. Other roles that could be included here are Data Provider, Data Collector, Data Analyst, Data Engineer, GIS Analyst.</p>
<ul>
<li>Who is the Principal Investigator of this project and what is their affiliation and contact information?
<ul>
<li>This individual leads the project overall and directs entities and individuals who contribute to data stewardship for the purposes of executing a successful project. This person may or may not hold other data stewardship roles. Please provide first and last name, affiliation, email address, and ORCID for this person.</li>
</ul></li>
<li>Who will be the Data Manager for this project?
<ul>
<li>This individual will lead data management efforts for this project. They may or may not hold other roles on the project. Please provide first and last name, affiliation, email address, and ORCID for this person.</li>
</ul></li>
<li>Who will be the primary Point of Contact to RWSC for this project?
<ul>
<li>This individual will serve as the primary conduit for communication about data stewardship and governance. This may be the Principal Investigator or another key person on the project. Please provide first and last name, affiliation, email address, and ORCID for this person.</li>
</ul></li>
<li>Who will make decisions about data sharing and management, and how?
<ul>
<li>Describe who will have the authority to make these decisions and how the decisions will be made (e.g.&nbsp;voting, consensus).</li>
</ul></li>
<li>Who will be responsible for ensuring compliance with this Data Management &amp; Sharing Plan?
<ul>
<li>State the person who holds responsibility for compliance with this DMSP. This individual will update the DMSP on a regular basis and will distribute the DMSP within the project team.</li>
</ul></li>
<li>Who will be responsible for any updates, responding to inquiries, and ongoing maintenance of the data, even after the conclusion of the project?
<ul>
<li>Describe who will maintain the data long-term, including fixing mistakes, updating metadata, and answering questions from data users.</li>
</ul></li>
<li>What other data stewardship roles and responsibilities will be held by the project team?
<ul>
<li>Describe how data stewardship and management responsibilities will be distributed across the project team. This might include data providers, data producers, technicians, post-docs, or students.</li>
</ul></li>
</ul>
</section>
<section id="data-stewardship-sharing-preservation" class="level4">
<h4 class="anchored" data-anchor-id="data-stewardship-sharing-preservation">Data Stewardship, Sharing, &amp; Preservation</h4>
<ul>
<li>Does the funder of this project, or a participating organization, have requirements to share data from this project, and if so, in what timeframe?
<ul>
<li>Describe any requirements to share the data from the project, and in what timeframe. Specific sharing requirements by data type are covered more specifically in the following sections.</li>
</ul></li>
<li>Does a funder, repository, or your organization require a specific license or data use agreement?
<ul>
<li>Describe any licensing requirements from funders or other organizations.</li>
</ul></li>
<li>What steps will your project team take to secure long-term (30-40 years) availability of project data and research outputs?
<ul>
<li>Publishing data in repositories with strong sustainability plans</li>
<li>Archiving back-up copies of data in long-term institutional cloud storage</li>
<li>Including data maintenance in future funding requests and institutional budgets</li>
<li>Assigning data stewardship roles &amp; responsibilities to team members</li>
<li>Updating this plan as staff change and data needs change</li>
</ul></li>
</ul>
</section>
<section id="research-outputs" class="level4">
<h4 class="anchored" data-anchor-id="research-outputs">Research Outputs</h4>
<p>For each data type or research output produced by this project, answer the following questions.</p>
<ul>
<li>What is the approximate number and size of data files that will be produced?
<ul>
<li>Given the planned project and data collection, provide the most accurate estimate possible. This information will help data storage calculations, and may impact the repositories where the data can be published.</li>
</ul></li>
<li>Will sensor and deployment metadata be collected? If yes, describe what type(s).
<ul>
<li>Describe the types of metadata, such as sensor metadata, data file metadata, project metadata, tag metadata.</li>
</ul></li>
<li>What formats will data and metadata be collected, processed, and stored in? Specify which formats will be used at east step of the data lifecycle.
<ul>
<li>Describe what format will be used for data and metadata.</li>
</ul></li>
<li>What data standards will be followed for these data?
<ul>
<li>List the standard(s) that will be used to format the data. Please provide details of the standard that will be used.</li>
</ul></li>
<li>What metadata standards will be followed to document these data? Specify which standards will be used.
<ul>
<li>Describe what metadata standards will be followed. Are they commonly used in the domain or are required by a funder or repository? If multiple metadata standards will be used, please list multiple options and describe th reason for this decision.<br>
</li>
</ul></li>
<li>What accompanying data needs to also be shared to interpret or use the data?
<ul>
<li>Describe what other data will be shared to enable interpretation of the data. This may include metadata (e.g.&nbsp;about sensors or other equipment), temporal and spatial details, or effort data (e.g.&nbsp;from observational surveys).</li>
</ul></li>
<li>What is the timeline for sharing these data?
<ul>
<li>Describe the timeline for sharing data.<br>
</li>
</ul></li>
<li>For what length of time will these data be preserved and shared?
<ul>
<li>Describe the length of time these data will be preserved and shared.</li>
</ul></li>
<li>What license will be applied to these data?</li>
<li>In which repository will the data be published?
<ul>
<li>List the repository that would be best suited for the data planned to be collected by the project. Consider repositories commonly used in the scientific community as well as which repository would provide the most robust features.<br>
</li>
</ul></li>
<li>Will any of the data need access restrictions to protect personal privacy, confidential or proprietary business interests, Indigenous data sovereignty, national security, intellectual property, protected species, or other rights or requirements, and if so, how and for how long?
<ul>
<li>Describe any restrictions, embargoes, or other methods that will be applied to the data and data products, the methods for applying them, and for how long they will be applied.<br>
</li>
</ul></li>
<li>How does the selected repository provide the needed level of access (e.g.&nbsp;embargos, private datasets)?
<ul>
<li>Describe how the chosen repositories provide the necessary access levels and protections for the data, and how those will be applied to the various datasets.</li>
</ul></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-page-right">
  <div class="nav-page nav-page-previous">
      <a href="./minimum_metadata.html" class="pagination-link" aria-label="Minimum metadata recommendations">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">Minimum metadata recommendations</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><img src="./img/Intertidal_PrimaryLogo_Bold_White.png" width="105"></p>
</div>   
    <div class="nav-footer-center">
<p>Content licensed CC-BY 4.0, Intertidal Agency</p>
</div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/company/intertidal-agency/">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/intertidalagency/ia-guides-resources">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>